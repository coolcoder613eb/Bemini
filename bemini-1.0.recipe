SUMMARY="Native Gemini client for Haiku"
DESCRIPTION="Bemini is a native Gemini browser for Haiku. \
It's a python3 program that uses Haiku APIs through Haiku-PyAPI, \
and two python libraries, trimgmi and gusmobile."
HOMEPAGE="https://github.com/coolcoder613eb/Bemini"
COPYRIGHT="2024 Elozor Bruce (coolcoder613eb)"
LICENSE="MIT"
REVISION="2"
SOURCE_URI="https://github.com/coolcoder613eb/Bemini/archive/e84aafbe82c87987e375ab893147af1961145663.zip"
CHECKSUM_SHA256="6ff4f155bf4804efcb634148c426e4ba513d2e08c1be0ebea81208ed6288229d"
SOURCE_DIR="Bemini-e84aafbe82c87987e375ab893147af1961145663"
pythonVersion=3.10

ARCHITECTURES="any"
DISABLE_SOURCE_PACKAGE="yes"

PROVIDES="
	bemini = $portVersion
	app:Bemini = $portVersion
	cmd:Bemini
	"
REQUIRES="
	haiku
	haiku_pyapi_python310
	pip_python310
	"
BUILD_REQUIRES="
    cmd:pip
    cmd:git
    "

INSTALL()
{
	mkdir -p $appsDir
	cp main.py $appsDir/Bemini
	chmod +x $appsDir/Bemini
	pip install --target $prefix/lib/python$pythonVersion/vendor-packages/ trimgmi git+https://git.sr.ht/~rwa/gusmobile
	addAppDeskbarSymlink $appsDir/Bemini
}
